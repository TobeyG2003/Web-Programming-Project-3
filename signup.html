<!DOCTYPE html>
<html lang="en">
<head>
	<script>
	function validate() {
		let errfound = false;
		let err = "There are errors in the following fields: \n";
		let fname = document.forms["myform"]["firstname"].value;
		let lname = document.forms["myform"]["lastname"].value;
		let email = document.forms["myform"]["email"].value;
		let user = document.forms["myform"]["username"].value;
		let pass = document.forms["myform"]["password"].value;
		if (/\s/.test(fname) || /\d/.test(fname)) {
			errfound = true;
			err += "First Name \n";
			document.getElementById("fname_err").innerHTML = "Invalid Entry: Numbers and Blank Spaces Not Allowed.<br />"; 
		} else {
			document.getElementById("fname_err").innerHTML = "";
		}
		if (/\s/.test(lname) || /\d/.test(lname)) {
			errfound = true;
			err += "Last Name \n";
			document.getElementById("lname_err").innerHTML = "Invalid Entry: Numbers and Blank Spaces Not Allowed.<br />"; 
		} else {
			document.getElementById("lname_err").innerHTML = "";
		}
		if (/\s/.test(email)) {
			errfound = true;
			err += "Email \n";
			document.getElementById("email_err").innerHTML = "Invalid Entry: Blank Spaces Not Allowed.<br />"; 
		} else {
			document.getElementById("email_err").innerHTML = "";
		}
		if (/\s/.test(user)) {
			errfound = true;
			err += "Username \n";
			document.getElementById("user_err").innerHTML = "Invalid Entry: Blank Spaces Not Allowed.<br />"; 
		} else {
			document.getElementById("user_err").innerHTML = "";
		}
		if (/\s/.test(pass) || pass.length < 8) {
			errfound = true;
			err += "Password \n";
			document.getElementById("pass_err").innerHTML = "Invalid Entry: Blank Spaces Not Allowed, Must be at least 8 characters long<br />"; 
		} else {
			document.getElementById("pass_err").innerHTML = "";
		}
		if (errfound) {
			alert(err);
			return false;
		}
	}
	</script>
    <title>Registration</title>
</head>
<body>
    <h1>Register an Account</h1>
	<div class = "box">
    <form name = "myform" action="./signupvalidation.php" onsubmit = "return validate()" method="post">
		<h2>Personal Information</h2>
		<span id = "fname_err"></span>
        <label for="firstname">First Name:</label><br>
        <input type="text" id="firstname" name="firstname" placeholder="Enter your first name" required><br>
		<span id = "lname_err"></span>
        <label for="lastname">Last Name:</label><br>
        <input type="text" id="lastname" name="lastname" placeholder="Enter your last name" required><br>
		<span id = "email_err"></span>
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" placeholder="Enter your email address" required><br>

        <h2>Account Details</h2>
		<span id = "user_err"></span>
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" placeholder="Enter your username" required><br>
		<span id = "pass_err"></span>
        <label for="password">Password:</label><br>
        <input type="text" id="password" name="password" placeholder="Enter your password" required><br>
		<label for="role">User Status: </label><br>
		<select name="role" id="role">
			<option value="buyer">Buyer</option>
			<option value="seller">Seller</option>
			<option value="admin">Admin (prob will remove this)</option>
		</select><br>

        <input type="submit" value="Submit"><input type="reset" value="Reset">
    </form>
	</div>
</body>
</html>